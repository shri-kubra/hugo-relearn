---
title: "Embed a Map"
weight: 22
---

There are three options for embedding a Storm Center map into your website. The first option is to provide KUBRA with an SSL certificate for the CNAME record you want to use for the URL for a full-screen web page with a Storm Center map. The second option is to use an iframe on a web page you create as part of your website. The third option is to use a div element on a web page you create as part of your website.

For all embedded maps, the Google logo in the lower left corner of the map must be visible. This is a requirement for using Google Maps. One suggestion is to make sure embedded maps are at least 500px high.

## Responsive Layout Breakpoint ##

Header buttons and social media links move from the map header to the overview panel when the iframe, div element, or browser window width is too narrow to fit the configured header content. This happens when the width is less than 768px.

## Full-Screen Map Web Page using a CNAME Certificate ##

{{% notice note %}}
The CNAME option is currently only available for public Storm Center maps, that is, maps that do not use password-protection or a firewall to restrict access to the map URL.
{{% /notice %}}

To specify the URL for a full-screen Storm Center map web page, you must provide KUBRA with an SSL certificate for the CNAME record of the URL you want to use. KUBRA will use this certificate to create a CloudFront instance, which links the map view URL to the desired domain. KUBRA will then provide the resulting CloudFront address.

You must set up your Domain Name System (DNS) to direct users attempting to access the map URL to the CloudFront address. You must also provide KUBRA with updated SSL certificates for the CNAME record to avoid issues with certificate expiration.

{{% notice note %}}
If you set up a CNAME for a Storm Center map and also want to embed the map in a different web page or other application, the full-screen map web page and the iframe or div element for the embedded map must use the same URL.
{{% /notice %}}

After you set up a map to use a CNAME, you should only access that map using the CNAME URL. If you do access the map using the kubra.io URL, you should clear your browser cache before you use the CNAME URL to access the map.

## Full-Screen or Partial-Screen Map using an `iframe` ##

Storm Center maps are designed to scale to fit the iframe where they are loaded. To maintain the responsive design of the map, the page containing the iframe also needs to use responsive design.

The following is example HTML that can be used to create a web page with no content outside of the iframe. To use this example, replace `YOUR PAGE TITLE HERE` with the page title you want to use, and replace `YOUR_VIEW_ID` with the map URL generated by the Instance Manager. If you set up a CNAME for a Storm Center map and also want to include that map in an iframe, use the CNAME URL instead of the URL generated by the Instance Manager.

```
<!DOCTYPE html>
<html>
<head>
  <title>YOUR PAGE TITLE HERE</title>
	<meta charset="UTF-8">

	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

	<style type="text/css">
    body {
			margin: 0;
			overflow: hidden;
		}

		iframe {
			position: absolute;
			top: 0px;
			left: 0px;
			width: 100%;
			height: 100%;
			border: none;
	}
	</style>

</head>
<body>
	<iframe src="YOUR_VIEW_ID"></iframe>
</body>
</html>
```

{{% notice note %}}
Do NOT use a meta tag for compatibility such as `<meta http-equiv="X-UA-Compatible" content="IE=10">`. Attempting to use a reference such as `content="IE=10"` will cause the outage map page to return an error message, and a compatibility meta tag is not needed for Microsoft Edge browsers to use the latest versions.
{{% /notice %}}

### URL Parameters ###

You can specify a starting location for a specific map in an iframe by adding one of two types of parameters to the URL:

+ latitude, longitude, and zoom level in the format `?lat=XX.XXXXX&lng=XX.XXXXX&zoom=XX`
+ address in the format `?address=` followed by the address with space characters replaced by the `+` character

You can create a pushpin/marker at the starting location by defining the `gpsMarker` parameter after the `?lat=XX.XXXXX&lng=XX.XXXXX&zoom=XX` definition or `?address=` definition. The `gpsMarker` parameter accepts any value to create a pushpin/marker.

You can also specify a starting language for the map using a language parameter in the format `?language=` followed by the locale code: `en-US` for English, `fr-CA` for French, or `es-ES` for Spanish.

You can also specify a starting visibility configuration and visibility option for the map using a parameter in the format `c=` for the visibility configuration and a parameter in the format `o=` for the visibility option.

Adding URL parameters to a map supports use cases such as embedding an outage map in a native mobile app, where a user login can provide address, location, and/or preferred language data.

#### Examples ####

To use latitude, longitude, and zoom level as URL parameters for

+ latitude: 33.4302373
+ longitude: -111.9416757
+ zoom level: 16

the URL would be `https://kubra.io/stormcenter/views/5a555a5a-5a55-5a55-5555-5a5555ab5555?lat=33.4302373&lng=-111.9416757&zoom=16`

To use a street address as a URL parameter for

+ address: 40 E Rio Salado Pkwy, Tempe, AZ 85281

the URL would be `https://kubra.io/stormcenter/views/5a555a5a-5a55-5a55-5555-5a5555ab5555?address=40+E+Rio+Salado+Pkwy,+Tempe,+AZ+85281`

To create a pushpin/marker at the starting location for

+ latitude: 33.4302373
+ longitude: -111.9416757
+ zoom level: 16
+ gpsMarker: show

the URL would be `https://kubra.io/stormcenter/views/5a555a5a-5a55-5a55-5555-5a5555ab5555?lat=33.4302373&lng=-111.9416757&zoom=16?gpsMarker=show`

To create a pushpin/marker at the starting location for

+ address: 40 E Rio Salado Pkwy, Tempe, AZ 85281
+ gpsMarker: show

the URL would be `https://kubra.io/stormcenter/views/5a555a5a-5a55-5a55-5555-5a5555ab5555?address=40+E+Rio+Salado+Pkwy,+Tempe,+AZ+85281?gpsMarker=show`

To use language as a URL parameter for

+ language: Canadian French (fr-CA)

the URL would be `https://kubra.io/stormcenter/views/5a555a5a-5a55-5a55-5555-5a5555ab5555?language=fr-CA`

To use a visibility configuration and visibility option as a URL parameter for

+ visibility configuration: Public-Map
+ visibility option: County

the URL would be `https://kubra.io/stormcenter/views/5a555a5a-5a55-5a55-5555-5a5555ab5555/?c=Public-Map&o=County`

## Full-Screen or Partial-Screen Map using a `div` Element ##

Storm Center maps are designed to scale to fit the element where they are loaded. To maintain the responsive design of the map, the page containing the `div` element also needs to use responsive design.

The following is example HTML that can be included in the body of a web page. To use this example, replace `YOUR_VIEW_ID` with the map URL generated by the Instance Manager. If you set up a CNAME for a Storm Center map and also want to include that map in a `div` element, use the CNAME URL instead of the URL generated by the Instance Manager.

```
<script src="https://kubra.io/stormcenter/stormcenter.js?callback=initStormcenter">

<div id="kubra-storm-center">
<script>
function initStormcenter() {
    Stormcenter.create({
        viewId: 'YOUR_VIEW_ID',
        containerId: 'kubra-storm-center',
        embedded: true
    });
}
</script>
</div>
```

### Optional Additional Properties ###

You can provide some additional properties in the `div` element as described below.

| Property | Description |
| ------- | ----------- |
| friendlyErrorMessage | An error message to be shown on the web page if the system fails to load the map. |
| address | A street address on which to center the map on page load. If used, this takes priority over lat/lng. |
| c | The name of a visibility configuration to be shown selected on the map on page load. If used, an `o` value is also required. Uses the internal ID for the configuration if a name is not available. |
| lat | A latitude coordinate on which to center the map on page load. If used, a lng value is also required. |
| lng | A longitude coordinate on which to center the map on page load. If used, a lat value is also required. |
| language | A locale code for the language to use on page load. One of: `en-US` for English, `fr-CA` for French, or `es-ES` for Spanish. |
| o | The name of a visibility option associated with a visibility configuration to be shown selected on the map on page load. If used, a `c` value is also required. Uses the internal ID for the option if a name is not available. |
| zoom | A Google Maps zoom level to use on page load. Must be an integer between 0 and 21. |

The following example shows all of the additional properties you can include in a `div` element. If you provide an `address` as well as `lat` and `lng` properties, the address will be used.

```
<script src="https://kubra.io/stormcenter/stormcenter.js?callback=initStormcenter">

<div id="kubra-storm-center">
<script>
function initStormcenter() {
    Stormcenter.create({
        viewId: 'YOUR_VIEW_ID',
        containerId: 'kubra-storm-center',
        embedded: true,
        friendlyErrorMessage: 'The map is currently unavailable. Please refresh your browser or check the map later.',
        address: '123 Main St. Anytown, USA',
        lat: '55.5555',
        lng: '-55.5555',
        language: 'en-US',
        zoom: 12
        c: 'Public-Map',
        o: 'County'
    });
}
</script>
</div>
```
